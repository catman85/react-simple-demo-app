(this["webpackJsonpfe-assignment-react"]=this["webpackJsonpfe-assignment-react"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),s=c(23),i=c.n(s),o=(c(31),c(6)),u=c(7),h=c(11),l=c(9),d=c(8),j=(c(32),c(14)),b=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(e){return Object(o.a)(this,c),t.call(this)}return Object(u.a)(c,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:Object(n.jsx)(j.b,{to:"/",children:"DIMITRIS VASILIADIS"})}),Object(n.jsx)("input",{onChange:this.props.callback}),Object(n.jsx)("br",{}),Object(n.jsx)(j.b,{to:"/search",children:Object(n.jsx)("button",{children:"Search"})})]})}}]),c}(r.a.Component),O=c(25),f=c(17),p=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(e){return Object(o.a)(this,c),t.call(this)}return Object(u.a)(c,[{key:"render",value:function(){var e=this.props.prod;return Object(n.jsxs)("li",{style:{marginBottom:"1em"},children:[e.name,Object(n.jsx)("b",{children:" "+e.price}),Object(n.jsx)("br",{}),e.description,Object(n.jsx)("br",{}),Object(n.jsx)("img",{src:e.image,alt:e.name})]},e.id)}}]),c}(r.a.Component),g=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(e){var n;return Object(o.a)(this,c),(n=t.call(this,e)).tags={},n.state={order:""},n.extractTags=n.extractTags.bind(Object(h.a)(n)),n.toggleCheckbox=n.toggleCheckbox.bind(Object(h.a)(n)),n.handleOrderChange=n.handleOrderChange.bind(Object(h.a)(n)),n.tagCheck=n.tagCheck.bind(Object(h.a)(n)),n.allIsFalse=n.allIsFalse.bind(Object(h.a)(n)),n}return Object(u.a)(c,[{key:"handleOrderChange",value:function(e){this.setState({order:e.target.value})}},{key:"toggleCheckbox",value:function(e){this.tags[e]=!this.tags[e],this.forceUpdate()}},{key:"extractTags",value:function(){var e=[];this.props.products.forEach((function(t){e=[].concat(Object(f.a)(e),Object(f.a)(t.tags))})),e=Object(f.a)(new Set(e));var t,c=Object(O.a)(e);try{for(c.s();!(t=c.n()).done;){var n=t.value;void 0===this.tags[n]&&(this.tags[n]=!1)}}catch(a){c.e(a)}finally{c.f()}return this.tags}},{key:"allIsFalse",value:function(){for(var e in this.tags)if(!0===this.tags[e])return!1;return!0}},{key:"tagCheck",value:function(e){if(this.allIsFalse())return!0;if(0===e.length)return!1;for(var t in this.tags)if(this.tags[t]&&!e.includes(t))return!1;return!0}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("select",{value:this.state.order,onChange:this.handleOrderChange,children:[Object(n.jsx)("option",{value:"asc",children:"ASC"}),Object(n.jsx)("option",{value:"desc",children:"DESC"})]}),Object.keys(this.extractTags()).map((function(t){return Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"checkbox",id:t,checked:e.tags[t],onClick:function(){return e.toggleCheckbox(t)}}),Object(n.jsx)("label",{htmlFor:t,children:t})]},t)})),Object(n.jsx)("br",{}),this.props.products.sort((function(t,c){return"asc"===e.state.order||""===e.state.order?t.price-c.price:c.price-t.price})).filter((function(t){return t.categoryId===e.props.category||""===e.props.category})).filter((function(t){return e.tagCheck(t.tags)})).map((function(e){return Object(n.jsx)(p,{prod:e},e.id)}))]})}}]),c}(r.a.Component),v=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(e){return Object(o.a)(this,c),t.call(this)}return Object(u.a)(c,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{children:this.props.categories.sort((function(e,t){return e.index-t.index})).map((function(t){return Object(n.jsx)("li",{className:"clickable",onClick:function(){return e.props.callback(t.id)},children:t.name},t.index)}))})}}]),c}(r.a.Component),x=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(e){return Object(o.a)(this,c),t.call(this)}return Object(u.a)(c,[{key:"componentDidUpdate",value:function(e){}},{key:"checkValidity",value:function(e){var t=this.props.query.toLowerCase();return!!(e.name.toLowerCase().includes(t)||e.categoryId.includes(t)||e.id.includes(t))}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{children:this.props.products.filter((function(t){return e.checkValidity(t)})).map((function(e){return Object(n.jsx)(p,{prod:e})}))})}}]),c}(r.a.Component),k="https://fe-assignment-server.herokuapp.com/api/v1/food",y={method:"GET",headers:new Headers({Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.LBHszzcjG4uVpYR-SpxUUbUEwhz8S8csczNW63L93xM"})},C=c(2),m=function(e){Object(l.a)(c,e);var t=Object(d.a)(c);function c(){var e;return Object(o.a)(this,c),(e=t.call(this)).state={categories:[],products:[],selectedCategory:"",searchQuery:""},e.fetchData=e.fetchData.bind(Object(h.a)(e)),e}return Object(u.a)(c,[{key:"fetchData",value:function(){var e=this;fetch(k+"/categories",y).then((function(e){return e.json()})).then((function(t){e.setState({categories:t})})),fetch(k+"/products",y).then((function(e){return e.json()})).then((function(t){e.setState({products:t})}))}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"sideMenuCallback",value:function(e){this.setState({selectedCategory:e}),console.debug(this.state.selectedCategory,e)}},{key:"headerCallback",value:function(e){var t=e.target.value;this.setState({searchQuery:t}),console.debug(this.state.searchQuery,t)}},{key:"render",value:function(){return Object(n.jsx)(j.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(b,{callback:this.headerCallback.bind(this)}),Object(n.jsxs)(C.c,{children:[Object(n.jsx)(C.a,{path:"/search",children:Object(n.jsx)(x,{products:this.state.products,query:this.state.searchQuery})}),Object(n.jsx)(C.a,{path:"/",children:Object(n.jsxs)("div",{className:"split",children:[Object(n.jsx)(v,{categories:this.state.categories,callback:this.sideMenuCallback.bind(this)}),Object(n.jsx)(g,{products:this.state.products,category:this.state.selectedCategory})]})})]})]})})}}]),c}(r.a.Component),I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,39)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(m,{})}),document.getElementById("root")),I()}},[[38,1,2]]]);
//# sourceMappingURL=main.13512e3d.chunk.js.map