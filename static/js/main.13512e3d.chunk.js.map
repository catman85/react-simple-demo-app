{"version":3,"sources":["components/Header.js","components/Product.js","components/MainMenu.js","components/SideMenu.js","pages/Search.js","api.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","to","onChange","this","callback","React","Component","Product","el","prod","style","marginBottom","name","price","description","src","image","alt","id","MainMenu","tags","state","order","extractTags","bind","toggleCheckbox","handleOrderChange","tagCheck","allIsFalse","event","setState","target","value","forceUpdate","temp","products","forEach","element","Set","key","undefined","i","currTags","length","t","includes","Object","keys","map","type","checked","onClick","htmlFor","sort","a","b","filter","p","categoryId","category","SideMenu","categories","index","className","Search","prevProps","q","query","toLowerCase","checkValidity","url","settings","method","headers","Headers","App","selectedCategory","searchQuery","fetchData","fetch","api_config","then","res","json","data","console","debug","headerCallback","path","sideMenuCallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.13512e3d.chunk.js","sourcesContent":["import React from 'react';\nimport {\n    Link\n  } from \"react-router-dom\";\n\nclass Header extends React.Component {\n    constructor(props){\n        super();\n    }\n    render(){\n        return (\n            <div>\n            <h3><Link to=\"/\">DIMITRIS VASILIADIS</Link></h3>\n            <input onChange={this.props.callback} /><br/>\n            <Link to=\"/search\"><button>Search</button></Link>\n            </div>\n       )\n    }\n}\n\nexport default Header;","import React from 'react';\n\nclass Product extends React.Component {\n    constructor(props){\n        super();\n    }\n    render(){\n        let el = this.props.prod;\n        return (\n            <li key={el.id} style={{marginBottom: \"1em\"}}>\n                {el.name}\n                <b>{\" \"+el.price}</b><br/>\n                {el.description}<br/>\n                <img src={el.image} alt={el.name}/>\n            </li>\n       )\n    }\n}\n\nexport default Product;","import React from 'react';\nimport Product from './Product';\n\nclass MainMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.tags = {};\n    this.state = {\n      order: \"\",\n    };\n    this.extractTags = this.extractTags.bind(this);\n    this.toggleCheckbox = this.toggleCheckbox.bind(this);\n    this.handleOrderChange = this.handleOrderChange.bind(this);\n    this.tagCheck = this.tagCheck.bind(this);\n    this.allIsFalse = this.allIsFalse.bind(this);\n  }\n\n  handleOrderChange(event) {\n    this.setState({ order: event.target.value });\n  }\n\n  toggleCheckbox(el) {\n    this.tags[el] = !this.tags[el];\n    this.forceUpdate(); // bad practise sorry\n  }\n\n  extractTags() {\n    let temp = [];\n    this.props.products.forEach((element) => {\n      temp = [...temp, ...element.tags];\n    });\n\n    //unique elements only\n    temp = [...new Set(temp)];\n\n    for (const key of temp) {\n      if(this.tags[key] === undefined){\n        this.tags[key] = false;\n      }\n    }\n\n    return this.tags;\n  }\n\n  allIsFalse(){\n    for (var i in this.tags) {\n        if (this.tags[i] === true) return false;\n    }\n    return true;\n  }\n\n  tagCheck(currTags) {\n    if(this.allIsFalse()){\n        return true;\n    }\n    // We have checked something\n\n    // product has no tag\n    if(currTags.length === 0){\n        return false;\n    }\n\n    //making sure all currTags are checked before showing\n    for(let t in this.tags){\n        if(this.tags[t]){\n            if(!currTags.includes(t)){\n                return false;\n            }\n        }\n    }\n\n    return true;\n  }\n\n  render() {\n    return (\n      <div>\n        <select value={this.state.order} onChange={this.handleOrderChange}>\n          <option value=\"asc\">ASC</option>\n          <option value=\"desc\">DESC</option>\n        </select>\n        {Object.keys(this.extractTags()).map((el) => (\n          <div key={el}>\n            <input\n              type=\"checkbox\"\n              id={el}\n              checked={this.tags[el]}\n              onClick={() => this.toggleCheckbox(el)}\n            />\n            <label htmlFor={el}>{el}</label>\n          </div>\n        ))}\n\n        <br/>\n\n        {this.props.products\n          .sort((a, b) => {\n            if (this.state.order === \"asc\" || this.state.order === \"\") {\n              return a.price - b.price;\n            } else {\n              return b.price - a.price;\n            }\n          })\n          .filter(\n            (p) =>\n              p.categoryId === this.props.category || this.props.category === \"\"\n          )\n          .filter((p) => this.tagCheck(p.tags))\n          .map((el) => (\n            <Product key={el.id} prod={el} />\n          ))}\n      </div>\n    );\n  }\n}\n\nexport default MainMenu;","import React from 'react';\n\nclass SideMenu extends React.Component {\n    constructor(props){\n        super();\n    }\n    render(){\n        return (\n            <div>\n                {this.props.categories\n                .sort((a,b)=>{return a.index-b.index})\n                .map((el)=>\n                    <li className=\"clickable\" \n                    key={el.index}\n                    onClick={() => this.props.callback(el.id)}>\n                        {el.name}\n                    </li>\n                )}\n            </div>\n       )\n    }\n}\n\nexport default SideMenu;","import React from 'react';\nimport Product from '../components/Product';\n\nclass Search extends React.Component {\n    constructor(props){\n        super();\n    }\n    componentDidUpdate(prevProps) {\n    \n    } \n    checkValidity(p){\n        let q = this.props.query.toLowerCase();\n        if(p.name.toLowerCase().includes(q) || p.categoryId.includes(q) || p.id.includes(q)){\n            return true;\n        }else{\n            return false;\n        }\n    }\n    render(){\n        return (\n            <div>\n                {this.props.products\n                .filter(p => this.checkValidity(p))\n                .map((el)=>\n                    <Product prod={el}/>\n                )}\n            </div>\n       )\n    }\n}\n\nexport default Search;","const url = \"https://fe-assignment-server.herokuapp.com/api/v1/food\";\nconst token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.LBHszzcjG4uVpYR-SpxUUbUEwhz8S8csczNW63L93xM\";\n\nvar settings = {\n    method: 'GET',\n    headers: new Headers({\n        'Authorization': \"Bearer \" + token\n    })\n};  \n\nexport {\n    url,\n    settings\n}","import React from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport MainMenu from './components/MainMenu';\nimport SideMenu from './components/SideMenu';\nimport Search from './pages/Search';\nimport * as api_config from \"./api\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      categories: [],\n      products: [],\n      selectedCategory: \"\",\n      searchQuery: \"\"\n    };\n    this.fetchData = this.fetchData.bind(this);\n  }\n\n  fetchData() {\n    fetch(api_config.url + \"/categories\", api_config.settings)\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({categories: data})\n      });\n\n    fetch(api_config.url + \"/products\", api_config.settings)\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({products: data});\n      });\n  }\n\n  componentDidMount() {\n    this.fetchData()\n  }\n\n  sideMenuCallback(id){\n    this.setState({selectedCategory: id});\n    console.debug(this.state.selectedCategory, id);\n  }\n\n  headerCallback(event){\n    let query = event.target.value;\n    this.setState({searchQuery: query});\n    console.debug(this.state.searchQuery, query);\n  }\n\n  render() {\n    return (\n    <Router>\n      <div className=\"App\">\n        <Header callback={this.headerCallback.bind(this)}/>\n        <Switch>\n          <Route path=\"/search\">\n            <Search products={this.state.products} query={this.state.searchQuery}/>\n          </Route>\n          <Route path=\"/\">\n            <div className=\"split\">\n              <SideMenu categories={this.state.categories} callback={this.sideMenuCallback.bind(this)}/>\n              <MainMenu products={this.state.products} category={this.state.selectedCategory}/>\n            </div>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}